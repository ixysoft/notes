# 分库分表
分库分表是为了解决由于数据量过大而导致数据库性能降低的问题,将原来独立的数据库,数据表拆分为若干数据库数据表,降低单一数据库,数据表的压力.  
## 分库分表的方式:
### 垂直分表
1. 将原来一个表的字段拆分到不同的表中,减小锁表的几率,减小读写冲突的几率.
2. 可以将某些热门字段单独提取出来,是的这些字段操作的效率不至于被其他无关信息拖累.  
### 垂直分库
为原来处于一个数据库中的不同表创建不同的数据库,使得各个数据库的分工更明确.  
### 水平分表
按照一定的规则,将原来一个数据表中的数据拆分到不同的数据表中,水平分表不会改变表的结构.  
### 水平分库
按照一定的规则,将数据库中的表中的数据放到不同的数据库中.水平分库也不会该表数据库的结构.  
## 分库分表带来的问题
### 事务一致性问题
分库分表可能将数据放在不同的服务器上,此时不可避免的就需要将事务一致性的要求置于考虑范围之内.
### 跨节点关联查询
在没有分库前,可以很方便的进行关联查询,但是在分库后,由于两个表不在一个数据库,甚至没有在一个服务器,此时无法进行关联查询.
需要解决这个问题,可以将获取的数据进行二次拼接.
### 跨节点分页,排序函数
与上面的问题相同的是,在分库分表之后,分页,排序这些操作也需要对获取的数据进行二次操作.  
### 主键重复
分库分表使得原有的自增长主键消除,为了解决这个问题,需要设计算法,生成全局主键.
### 高频,数据量小的表
比如数据字典,参数表,地理位置表,可以在每个数据库中各保存一份,更新时同时发送到所有的分库进行更新.  
