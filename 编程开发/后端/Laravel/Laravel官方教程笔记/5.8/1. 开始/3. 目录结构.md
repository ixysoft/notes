# 目录结构
## 介绍  
Laravel默认的应用结构旨在为各种不同规模的应用提供一个好的起点.如果有必要,我们可以根据自己的需要组织项目的结构.  
Laravel几乎没有什么强制的限制,也不会限定你编写的类的位置,只需要符合composer可以自动载入的规则即可.  
### 关于模型目录的问题  
在很多mvc框架中都会默认存在models目录,而这个目录在laravel中是不存在的,刚开始学的时候可能会有一些迷惑性.  
其实这是因为models这个词本身就具有迷惑性,很多人对models有不同的看法,有些人觉得模型是所有业务逻辑的统称,而另一部分人认为模型只是与相关的数据库的一种交互.  
因为这个原因,laravel作者干脆抛弃了这个目录,用户可以根据自己的喜好选择加与不加models目录.  
## 应用根目录  
### app目录  
app目录包含应用的核心代码.我们写的跟应用相关的代码也几乎都在这个目录之下.  
### bootstrap目录  
`bootstrap`目录包含的`app.php`是整个框架的启动文件,这个目录也是框架为了优化性能(注入路由,服务缓存等)生成的文件的缓存(`cache`)目录.  
### config目录  
这个目录包含应用中所有的配置文件.
### database目录  
这个目录中包含跟数据库相关的一些文件或者目录,比如数据库迁移文件,数据模型工厂,数据种子等.  
有时候我们也会将sqlite数据库的文件放到这个目录下
### public目录  
应用入口,包含`index.php`文件及一些静态文件.  
### resources目录  
这个目录包含所有原始的,未编译的资源(LESS,SASS,Js文件等),语言文件,视图文件等与前端相关的文件.  
### routes目录  
这个目录包含所有应用路由相关的文件,默认情况下,laravel会自动导入下面的几个路由文件:`web.php`,`api.php`,`console.php`及`channel.php`  
`web.php`包含的路由会在RouteServiceProvider中被放到web中间件组中,默认情况下,这个目录下的路由会提供会话状态,CSRF保护及cookie加密等功能.   
如果我们的应用没有提供一个无状态的,RESTful api.所有的路由最好放在`web.php`文件中.  
`api.php`包含的路由会在RouteServiceProvider中被放到api中间件中,默认提供限流的功能,这里的路由默认更倾向于无状态,用tokens认证并且不会访问会话状态的请求.  
`console.php`文件中可以定义我们在终端命令中访问的路由.  
`channels.php`文件中可以注册我们需要的事件广播频道.  
### storage目录  
这个目录中包含编译之后的blade模板,基于文件的session,文件缓存及其他一些框架生成的缓存.这个目录被分成`app`,`framework`及`logs`目录.  
其中`app`目录可以被用于保存应用生成的文件,`framework`目录用于保存框架生成的文件或者缓存,`logs`包含应用中的所有日志信息.  
在`storage/app`下的public目录可以用作存储用户生成的文件(比如头像),这个文件需要所有的用户都能访问到.我们可以用户`php artisan storage:link`将此目录链接到`public/storage`.  
### tests目录  
`tests`目录包含我们写好的所有自动测试文件.其中每一个文件都应该以`Test`后缀结尾.  
我们可以通过`phpunit`或者`php vendor/bin/phpunit`运行我们写好的测试.  
### vendor目录  
包含所有的composer依赖  
## App目录  
项目中大多数的内容都处于这个目录之下.此目录默认被防止在`App`命名空间下,并遵循`PSR-4`的自动载入标准.  
其中默认包含很多附加目录,如`Console`,`Http`,`Providers`等.可以把`Console`和`Http`目录想成提供给应用核心的接口.  
HTTP协议和CLI都可以与应用交互,但是几乎并不包含实际的业务逻辑.其中`Console`目录包含所有的artisan命令,`Http`目录包含控制器,中间件及请求等.  
我们可以通过artisan的`make`命令在app目录中生成其他的目录,比如`make:job`生成`app/Jobs`.  
### Broadcasting目录  
此目录包含应用中所有的广播频道类,我们可以通过`make:channel`命令生成目录下的广播类.  
默认情况下,这个目录并不存在.  
### Console目录  
此目录包含应用中所有自定的artisan命令.我们可以通过`make:command`命令新的自定义命令.  
除了自定义的命令类外,这个目录还包含console和核心文件,我们可以再其中注册我们定义的定时任务.  
### Events目录  
此目录默认不存在,我们可以通过`event:generate`或者`make:event`生成.  
此目录包含所有的事件类  
### Exceptions目录  
此目录包含应用中异常处理程序,我们也可以将应用中抛出的异常防止到此目录下.  
如果需要自定义异常的日志生成及渲染,我们可以修改此目录中的`Handler`类.  
### Http目录  
此目录包含项目中的控制器,中间件及form请求.几乎所有的进入应用中的请求的处理逻辑都放在这里.  
### Jobs目录  
此目录默认不存在.我们可以通过`make:job`命令生成.  
此目录是所有可排队的任务类的根据地.  
任务可能背排队或者在当前的生命周期同步执行.在当前请求中同步执行的任务,我们一般称为"命令",因为他们是在命令默认下运行的.  
### Listeners目录  
这个目录默认不存在,我们可以通过`event:generate`或`make:listener`生成.该目录包含指定event触发时的处理逻辑.  
时间监听者接收一个事件实例,并且在事件被触发时执行响应的逻辑.比如`UserRegistered`时间可能被一个名为`SendWelcomeEmail`的监听者处理.  
### Mail目录  
目录默认不存在,我们可以通过`make:mail`命令生成.  
此目录包含所有的应用需要发送的邮件类.邮件对象允许我们将所有的邮件构建逻辑封装到一个单独的简单的类中,我们可以通过`Mail::send`方法发送.  
### Notifications目录  
此目录默认不存在,我们可以通过`make:notification`命令创建.  
这个目录包含应用中所有"事务性的(transactional)"通知(这里还不是特别理解....),比如与应用事件相关的简单的通知.  
Laravel的通知功能可以抽象的表示发送诸如邮件,Slack,SMS或者数据库保存等相关的功能.  
### Policies目录  
此目录默认不存在,我们可以通过`make:policy`创建.此目录包含应用中的授权认证策略.我们可以使用这些策略决定用户是否拥有对某个资源进行某个动作的权限.  
### Providers目录  
此目录包含所有应用中的服务提供者.  
这些服务提供者通过绑定服务绑定到对应的服务容器,注册事件或者执行其他为接下来请求准备的其他任务,来引导我们编写好的应用
在新版的laravel应用中,此目录已经包含了几个提供者了,我们可以很自由的添加需要的服务提供者  
### Rules目录  
此目录默认不存在,我们可以通过`make:rule`生成该目录.该目录包含自定义的验证规则(validation rules)对象.这些规则一般都是用于封装一些复杂的校验逻辑.